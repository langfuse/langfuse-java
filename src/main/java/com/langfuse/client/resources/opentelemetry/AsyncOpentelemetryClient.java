/**
 * This file was auto-generated by Fern from our API Definition.
 */

package com.langfuse.client.resources.opentelemetry;

import com.langfuse.client.core.ClientOptions;
import com.langfuse.client.core.RequestOptions;
import java.util.concurrent.CompletableFuture;
import com.langfuse.client.resources.opentelemetry.requests.OtelTraceRequest;
import com.langfuse.client.resources.opentelemetry.types.OtelTraceResponse;

public class AsyncOpentelemetryClient {
  protected final ClientOptions clientOptions;

  private final AsyncRawOpentelemetryClient rawClient;

  public AsyncOpentelemetryClient(ClientOptions clientOptions) {
    this.clientOptions = clientOptions;
    this.rawClient = new AsyncRawOpentelemetryClient(clientOptions);
  }

  /**
   * Get responses with HTTP metadata like headers
   */
  public AsyncRawOpentelemetryClient withRawResponse() {
    return this.rawClient;
  }

  /**
   * <strong>OpenTelemetry Traces Ingestion Endpoint</strong>
   * <p>This endpoint implements the OTLP/HTTP specification for trace ingestion, providing native OpenTelemetry integration for Langfuse Observability.</p>
   * <p><strong>Supported Formats:</strong></p>
   * <ul>
   * <li>Binary Protobuf: <code>Content-Type: application/x-protobuf</code></li>
   * <li>JSON Protobuf: <code>Content-Type: application/json</code></li>
   * <li>Supports gzip compression via <code>Content-Encoding: gzip</code> header</li>
   * </ul>
   * <p><strong>Specification Compliance:</strong></p>
   * <ul>
   * <li>Conforms to <a href="https://opentelemetry.io/docs/specs/otlp/#otlphttp">OTLP/HTTP Trace Export</a></li>
   * <li>Implements <code>ExportTraceServiceRequest</code> message format</li>
   * </ul>
   * <p><strong>Documentation:</strong></p>
   * <ul>
   * <li>Integration guide: https://langfuse.com/integrations/native/opentelemetry</li>
   * <li>Data model: https://langfuse.com/docs/observability/data-model</li>
   * </ul>
   */
  public CompletableFuture<OtelTraceResponse> exportTraces(OtelTraceRequest request) {
    return this.rawClient.exportTraces(request).thenApply(response -> response.body());
  }

  /**
   * <strong>OpenTelemetry Traces Ingestion Endpoint</strong>
   * <p>This endpoint implements the OTLP/HTTP specification for trace ingestion, providing native OpenTelemetry integration for Langfuse Observability.</p>
   * <p><strong>Supported Formats:</strong></p>
   * <ul>
   * <li>Binary Protobuf: <code>Content-Type: application/x-protobuf</code></li>
   * <li>JSON Protobuf: <code>Content-Type: application/json</code></li>
   * <li>Supports gzip compression via <code>Content-Encoding: gzip</code> header</li>
   * </ul>
   * <p><strong>Specification Compliance:</strong></p>
   * <ul>
   * <li>Conforms to <a href="https://opentelemetry.io/docs/specs/otlp/#otlphttp">OTLP/HTTP Trace Export</a></li>
   * <li>Implements <code>ExportTraceServiceRequest</code> message format</li>
   * </ul>
   * <p><strong>Documentation:</strong></p>
   * <ul>
   * <li>Integration guide: https://langfuse.com/integrations/native/opentelemetry</li>
   * <li>Data model: https://langfuse.com/docs/observability/data-model</li>
   * </ul>
   */
  public CompletableFuture<OtelTraceResponse> exportTraces(OtelTraceRequest request,
      RequestOptions requestOptions) {
    return this.rawClient.exportTraces(request, requestOptions).thenApply(response -> response.body());
  }
}
