/**
 * This file was auto-generated by Fern from our API Definition.
 */

package com.langfuse.client.resources.opentelemetry.types;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.langfuse.client.core.ObjectMappers;
import java.lang.Integer;
import java.lang.Object;
import java.lang.String;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(
    builder = OtelSpan.Builder.class
)
public final class OtelSpan {
  private final Optional<Object> traceId;

  private final Optional<Object> spanId;

  private final Optional<Object> parentSpanId;

  private final Optional<String> name;

  private final Optional<Integer> kind;

  private final Optional<Object> startTimeUnixNano;

  private final Optional<Object> endTimeUnixNano;

  private final Optional<List<OtelAttribute>> attributes;

  private final Optional<Object> status;

  private final Map<String, Object> additionalProperties;

  private OtelSpan(Optional<Object> traceId, Optional<Object> spanId, Optional<Object> parentSpanId,
      Optional<String> name, Optional<Integer> kind, Optional<Object> startTimeUnixNano,
      Optional<Object> endTimeUnixNano, Optional<List<OtelAttribute>> attributes,
      Optional<Object> status, Map<String, Object> additionalProperties) {
    this.traceId = traceId;
    this.spanId = spanId;
    this.parentSpanId = parentSpanId;
    this.name = name;
    this.kind = kind;
    this.startTimeUnixNano = startTimeUnixNano;
    this.endTimeUnixNano = endTimeUnixNano;
    this.attributes = attributes;
    this.status = status;
    this.additionalProperties = additionalProperties;
  }

  /**
   * @return Trace ID (16 bytes, hex-encoded string in JSON or Buffer in binary)
   */
  @JsonProperty("traceId")
  public Optional<Object> getTraceId() {
    return traceId;
  }

  /**
   * @return Span ID (8 bytes, hex-encoded string in JSON or Buffer in binary)
   */
  @JsonProperty("spanId")
  public Optional<Object> getSpanId() {
    return spanId;
  }

  /**
   * @return Parent span ID if this is a child span
   */
  @JsonProperty("parentSpanId")
  public Optional<Object> getParentSpanId() {
    return parentSpanId;
  }

  /**
   * @return Span name describing the operation
   */
  @JsonProperty("name")
  public Optional<String> getName() {
    return name;
  }

  /**
   * @return Span kind (1=INTERNAL, 2=SERVER, 3=CLIENT, 4=PRODUCER, 5=CONSUMER)
   */
  @JsonProperty("kind")
  public Optional<Integer> getKind() {
    return kind;
  }

  /**
   * @return Start time in nanoseconds since Unix epoch
   */
  @JsonProperty("startTimeUnixNano")
  public Optional<Object> getStartTimeUnixNano() {
    return startTimeUnixNano;
  }

  /**
   * @return End time in nanoseconds since Unix epoch
   */
  @JsonProperty("endTimeUnixNano")
  public Optional<Object> getEndTimeUnixNano() {
    return endTimeUnixNano;
  }

  /**
   * @return Span attributes including Langfuse-specific attributes (langfuse.observation.*)
   */
  @JsonProperty("attributes")
  public Optional<List<OtelAttribute>> getAttributes() {
    return attributes;
  }

  /**
   * @return Span status object
   */
  @JsonProperty("status")
  public Optional<Object> getStatus() {
    return status;
  }

  @java.lang.Override
  public boolean equals(Object other) {
    if (this == other) return true;
    return other instanceof OtelSpan && equalTo((OtelSpan) other);
  }

  @JsonAnyGetter
  public Map<String, Object> getAdditionalProperties() {
    return this.additionalProperties;
  }

  private boolean equalTo(OtelSpan other) {
    return traceId.equals(other.traceId) && spanId.equals(other.spanId) && parentSpanId.equals(other.parentSpanId) && name.equals(other.name) && kind.equals(other.kind) && startTimeUnixNano.equals(other.startTimeUnixNano) && endTimeUnixNano.equals(other.endTimeUnixNano) && attributes.equals(other.attributes) && status.equals(other.status);
  }

  @java.lang.Override
  public int hashCode() {
    return Objects.hash(this.traceId, this.spanId, this.parentSpanId, this.name, this.kind, this.startTimeUnixNano, this.endTimeUnixNano, this.attributes, this.status);
  }

  @java.lang.Override
  public String toString() {
    return ObjectMappers.stringify(this);
  }

  public static Builder builder() {
    return new Builder();
  }

  @JsonIgnoreProperties(
      ignoreUnknown = true
  )
  public static final class Builder {
    private Optional<Object> traceId = Optional.empty();

    private Optional<Object> spanId = Optional.empty();

    private Optional<Object> parentSpanId = Optional.empty();

    private Optional<String> name = Optional.empty();

    private Optional<Integer> kind = Optional.empty();

    private Optional<Object> startTimeUnixNano = Optional.empty();

    private Optional<Object> endTimeUnixNano = Optional.empty();

    private Optional<List<OtelAttribute>> attributes = Optional.empty();

    private Optional<Object> status = Optional.empty();

    @JsonAnySetter
    private Map<String, Object> additionalProperties = new HashMap<>();

    private Builder() {
    }

    public Builder from(OtelSpan other) {
      traceId(other.getTraceId());
      spanId(other.getSpanId());
      parentSpanId(other.getParentSpanId());
      name(other.getName());
      kind(other.getKind());
      startTimeUnixNano(other.getStartTimeUnixNano());
      endTimeUnixNano(other.getEndTimeUnixNano());
      attributes(other.getAttributes());
      status(other.getStatus());
      return this;
    }

    /**
     * <p>Trace ID (16 bytes, hex-encoded string in JSON or Buffer in binary)</p>
     */
    @JsonSetter(
        value = "traceId",
        nulls = Nulls.SKIP
    )
    public Builder traceId(Optional<Object> traceId) {
      this.traceId = traceId;
      return this;
    }

    public Builder traceId(Object traceId) {
      this.traceId = Optional.ofNullable(traceId);
      return this;
    }

    /**
     * <p>Span ID (8 bytes, hex-encoded string in JSON or Buffer in binary)</p>
     */
    @JsonSetter(
        value = "spanId",
        nulls = Nulls.SKIP
    )
    public Builder spanId(Optional<Object> spanId) {
      this.spanId = spanId;
      return this;
    }

    public Builder spanId(Object spanId) {
      this.spanId = Optional.ofNullable(spanId);
      return this;
    }

    /**
     * <p>Parent span ID if this is a child span</p>
     */
    @JsonSetter(
        value = "parentSpanId",
        nulls = Nulls.SKIP
    )
    public Builder parentSpanId(Optional<Object> parentSpanId) {
      this.parentSpanId = parentSpanId;
      return this;
    }

    public Builder parentSpanId(Object parentSpanId) {
      this.parentSpanId = Optional.ofNullable(parentSpanId);
      return this;
    }

    /**
     * <p>Span name describing the operation</p>
     */
    @JsonSetter(
        value = "name",
        nulls = Nulls.SKIP
    )
    public Builder name(Optional<String> name) {
      this.name = name;
      return this;
    }

    public Builder name(String name) {
      this.name = Optional.ofNullable(name);
      return this;
    }

    /**
     * <p>Span kind (1=INTERNAL, 2=SERVER, 3=CLIENT, 4=PRODUCER, 5=CONSUMER)</p>
     */
    @JsonSetter(
        value = "kind",
        nulls = Nulls.SKIP
    )
    public Builder kind(Optional<Integer> kind) {
      this.kind = kind;
      return this;
    }

    public Builder kind(Integer kind) {
      this.kind = Optional.ofNullable(kind);
      return this;
    }

    /**
     * <p>Start time in nanoseconds since Unix epoch</p>
     */
    @JsonSetter(
        value = "startTimeUnixNano",
        nulls = Nulls.SKIP
    )
    public Builder startTimeUnixNano(Optional<Object> startTimeUnixNano) {
      this.startTimeUnixNano = startTimeUnixNano;
      return this;
    }

    public Builder startTimeUnixNano(Object startTimeUnixNano) {
      this.startTimeUnixNano = Optional.ofNullable(startTimeUnixNano);
      return this;
    }

    /**
     * <p>End time in nanoseconds since Unix epoch</p>
     */
    @JsonSetter(
        value = "endTimeUnixNano",
        nulls = Nulls.SKIP
    )
    public Builder endTimeUnixNano(Optional<Object> endTimeUnixNano) {
      this.endTimeUnixNano = endTimeUnixNano;
      return this;
    }

    public Builder endTimeUnixNano(Object endTimeUnixNano) {
      this.endTimeUnixNano = Optional.ofNullable(endTimeUnixNano);
      return this;
    }

    /**
     * <p>Span attributes including Langfuse-specific attributes (langfuse.observation.*)</p>
     */
    @JsonSetter(
        value = "attributes",
        nulls = Nulls.SKIP
    )
    public Builder attributes(Optional<List<OtelAttribute>> attributes) {
      this.attributes = attributes;
      return this;
    }

    public Builder attributes(List<OtelAttribute> attributes) {
      this.attributes = Optional.ofNullable(attributes);
      return this;
    }

    /**
     * <p>Span status object</p>
     */
    @JsonSetter(
        value = "status",
        nulls = Nulls.SKIP
    )
    public Builder status(Optional<Object> status) {
      this.status = status;
      return this;
    }

    public Builder status(Object status) {
      this.status = Optional.ofNullable(status);
      return this;
    }

    public OtelSpan build() {
      return new OtelSpan(traceId, spanId, parentSpanId, name, kind, startTimeUnixNano, endTimeUnixNano, attributes, status, additionalProperties);
    }

    public Builder additionalProperty(String key, Object value) {
      this.additionalProperties.put(key, value);
      return this;
    }

    public Builder additionalProperties(Map<String, Object> additionalProperties) {
      this.additionalProperties.putAll(additionalProperties);
      return this;
    }
  }
}
