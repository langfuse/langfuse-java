/**
 * This file was auto-generated by Fern from our API Definition.
 */

package com.langfuse.client.resources.blobstorageintegrations.types;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.langfuse.client.core.ObjectMappers;
import java.lang.Object;
import java.lang.String;
import java.time.OffsetDateTime;
import java.util.HashMap;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(
    builder = CreateBlobStorageIntegrationRequest.Builder.class
)
public final class CreateBlobStorageIntegrationRequest {
  private final String projectId;

  private final BlobStorageIntegrationType type;

  private final String bucketName;

  private final Optional<String> endpoint;

  private final String region;

  private final Optional<String> accessKeyId;

  private final Optional<String> secretAccessKey;

  private final Optional<String> prefix;

  private final BlobStorageExportFrequency exportFrequency;

  private final boolean enabled;

  private final boolean forcePathStyle;

  private final BlobStorageIntegrationFileType fileType;

  private final BlobStorageExportMode exportMode;

  private final Optional<OffsetDateTime> exportStartDate;

  private final Map<String, Object> additionalProperties;

  private CreateBlobStorageIntegrationRequest(String projectId, BlobStorageIntegrationType type,
      String bucketName, Optional<String> endpoint, String region, Optional<String> accessKeyId,
      Optional<String> secretAccessKey, Optional<String> prefix,
      BlobStorageExportFrequency exportFrequency, boolean enabled, boolean forcePathStyle,
      BlobStorageIntegrationFileType fileType, BlobStorageExportMode exportMode,
      Optional<OffsetDateTime> exportStartDate, Map<String, Object> additionalProperties) {
    this.projectId = projectId;
    this.type = type;
    this.bucketName = bucketName;
    this.endpoint = endpoint;
    this.region = region;
    this.accessKeyId = accessKeyId;
    this.secretAccessKey = secretAccessKey;
    this.prefix = prefix;
    this.exportFrequency = exportFrequency;
    this.enabled = enabled;
    this.forcePathStyle = forcePathStyle;
    this.fileType = fileType;
    this.exportMode = exportMode;
    this.exportStartDate = exportStartDate;
    this.additionalProperties = additionalProperties;
  }

  /**
   * @return ID of the project in which to configure the blob storage integration
   */
  @JsonProperty("projectId")
  public String getProjectId() {
    return projectId;
  }

  @JsonProperty("type")
  public BlobStorageIntegrationType getType() {
    return type;
  }

  /**
   * @return Name of the storage bucket
   */
  @JsonProperty("bucketName")
  public String getBucketName() {
    return bucketName;
  }

  /**
   * @return Custom endpoint URL (required for S3_COMPATIBLE type)
   */
  @JsonProperty("endpoint")
  public Optional<String> getEndpoint() {
    return endpoint;
  }

  /**
   * @return Storage region
   */
  @JsonProperty("region")
  public String getRegion() {
    return region;
  }

  /**
   * @return Access key ID for authentication
   */
  @JsonProperty("accessKeyId")
  public Optional<String> getAccessKeyId() {
    return accessKeyId;
  }

  /**
   * @return Secret access key for authentication (will be encrypted when stored)
   */
  @JsonProperty("secretAccessKey")
  public Optional<String> getSecretAccessKey() {
    return secretAccessKey;
  }

  /**
   * @return Path prefix for exported files (must end with forward slash if provided)
   */
  @JsonProperty("prefix")
  public Optional<String> getPrefix() {
    return prefix;
  }

  @JsonProperty("exportFrequency")
  public BlobStorageExportFrequency getExportFrequency() {
    return exportFrequency;
  }

  /**
   * @return Whether the integration is active
   */
  @JsonProperty("enabled")
  public boolean getEnabled() {
    return enabled;
  }

  /**
   * @return Use path-style URLs for S3 requests
   */
  @JsonProperty("forcePathStyle")
  public boolean getForcePathStyle() {
    return forcePathStyle;
  }

  @JsonProperty("fileType")
  public BlobStorageIntegrationFileType getFileType() {
    return fileType;
  }

  @JsonProperty("exportMode")
  public BlobStorageExportMode getExportMode() {
    return exportMode;
  }

  /**
   * @return Custom start date for exports (required when exportMode is FROM_CUSTOM_DATE)
   */
  @JsonProperty("exportStartDate")
  public Optional<OffsetDateTime> getExportStartDate() {
    return exportStartDate;
  }

  @java.lang.Override
  public boolean equals(Object other) {
    if (this == other) return true;
    return other instanceof CreateBlobStorageIntegrationRequest && equalTo((CreateBlobStorageIntegrationRequest) other);
  }

  @JsonAnyGetter
  public Map<String, Object> getAdditionalProperties() {
    return this.additionalProperties;
  }

  private boolean equalTo(CreateBlobStorageIntegrationRequest other) {
    return projectId.equals(other.projectId) && type.equals(other.type) && bucketName.equals(other.bucketName) && endpoint.equals(other.endpoint) && region.equals(other.region) && accessKeyId.equals(other.accessKeyId) && secretAccessKey.equals(other.secretAccessKey) && prefix.equals(other.prefix) && exportFrequency.equals(other.exportFrequency) && enabled == other.enabled && forcePathStyle == other.forcePathStyle && fileType.equals(other.fileType) && exportMode.equals(other.exportMode) && exportStartDate.equals(other.exportStartDate);
  }

  @java.lang.Override
  public int hashCode() {
    return Objects.hash(this.projectId, this.type, this.bucketName, this.endpoint, this.region, this.accessKeyId, this.secretAccessKey, this.prefix, this.exportFrequency, this.enabled, this.forcePathStyle, this.fileType, this.exportMode, this.exportStartDate);
  }

  @java.lang.Override
  public String toString() {
    return ObjectMappers.stringify(this);
  }

  public static ProjectIdStage builder() {
    return new Builder();
  }

  public interface ProjectIdStage {
    TypeStage projectId(@NotNull String projectId);

    Builder from(CreateBlobStorageIntegrationRequest other);
  }

  public interface TypeStage {
    BucketNameStage type(@NotNull BlobStorageIntegrationType type);
  }

  public interface BucketNameStage {
    RegionStage bucketName(@NotNull String bucketName);
  }

  public interface RegionStage {
    ExportFrequencyStage region(@NotNull String region);
  }

  public interface ExportFrequencyStage {
    EnabledStage exportFrequency(@NotNull BlobStorageExportFrequency exportFrequency);
  }

  public interface EnabledStage {
    ForcePathStyleStage enabled(boolean enabled);
  }

  public interface ForcePathStyleStage {
    FileTypeStage forcePathStyle(boolean forcePathStyle);
  }

  public interface FileTypeStage {
    ExportModeStage fileType(@NotNull BlobStorageIntegrationFileType fileType);
  }

  public interface ExportModeStage {
    _FinalStage exportMode(@NotNull BlobStorageExportMode exportMode);
  }

  public interface _FinalStage {
    CreateBlobStorageIntegrationRequest build();

    _FinalStage endpoint(Optional<String> endpoint);

    _FinalStage endpoint(String endpoint);

    _FinalStage accessKeyId(Optional<String> accessKeyId);

    _FinalStage accessKeyId(String accessKeyId);

    _FinalStage secretAccessKey(Optional<String> secretAccessKey);

    _FinalStage secretAccessKey(String secretAccessKey);

    _FinalStage prefix(Optional<String> prefix);

    _FinalStage prefix(String prefix);

    _FinalStage exportStartDate(Optional<OffsetDateTime> exportStartDate);

    _FinalStage exportStartDate(OffsetDateTime exportStartDate);
  }

  @JsonIgnoreProperties(
      ignoreUnknown = true
  )
  public static final class Builder implements ProjectIdStage, TypeStage, BucketNameStage, RegionStage, ExportFrequencyStage, EnabledStage, ForcePathStyleStage, FileTypeStage, ExportModeStage, _FinalStage {
    private String projectId;

    private BlobStorageIntegrationType type;

    private String bucketName;

    private String region;

    private BlobStorageExportFrequency exportFrequency;

    private boolean enabled;

    private boolean forcePathStyle;

    private BlobStorageIntegrationFileType fileType;

    private BlobStorageExportMode exportMode;

    private Optional<OffsetDateTime> exportStartDate = Optional.empty();

    private Optional<String> prefix = Optional.empty();

    private Optional<String> secretAccessKey = Optional.empty();

    private Optional<String> accessKeyId = Optional.empty();

    private Optional<String> endpoint = Optional.empty();

    @JsonAnySetter
    private Map<String, Object> additionalProperties = new HashMap<>();

    private Builder() {
    }

    @java.lang.Override
    public Builder from(CreateBlobStorageIntegrationRequest other) {
      projectId(other.getProjectId());
      type(other.getType());
      bucketName(other.getBucketName());
      endpoint(other.getEndpoint());
      region(other.getRegion());
      accessKeyId(other.getAccessKeyId());
      secretAccessKey(other.getSecretAccessKey());
      prefix(other.getPrefix());
      exportFrequency(other.getExportFrequency());
      enabled(other.getEnabled());
      forcePathStyle(other.getForcePathStyle());
      fileType(other.getFileType());
      exportMode(other.getExportMode());
      exportStartDate(other.getExportStartDate());
      return this;
    }

    /**
     * <p>ID of the project in which to configure the blob storage integration</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("projectId")
    public TypeStage projectId(@NotNull String projectId) {
      this.projectId = Objects.requireNonNull(projectId, "projectId must not be null");
      return this;
    }

    @java.lang.Override
    @JsonSetter("type")
    public BucketNameStage type(@NotNull BlobStorageIntegrationType type) {
      this.type = Objects.requireNonNull(type, "type must not be null");
      return this;
    }

    /**
     * <p>Name of the storage bucket</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("bucketName")
    public RegionStage bucketName(@NotNull String bucketName) {
      this.bucketName = Objects.requireNonNull(bucketName, "bucketName must not be null");
      return this;
    }

    /**
     * <p>Storage region</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("region")
    public ExportFrequencyStage region(@NotNull String region) {
      this.region = Objects.requireNonNull(region, "region must not be null");
      return this;
    }

    @java.lang.Override
    @JsonSetter("exportFrequency")
    public EnabledStage exportFrequency(@NotNull BlobStorageExportFrequency exportFrequency) {
      this.exportFrequency = Objects.requireNonNull(exportFrequency, "exportFrequency must not be null");
      return this;
    }

    /**
     * <p>Whether the integration is active</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("enabled")
    public ForcePathStyleStage enabled(boolean enabled) {
      this.enabled = enabled;
      return this;
    }

    /**
     * <p>Use path-style URLs for S3 requests</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("forcePathStyle")
    public FileTypeStage forcePathStyle(boolean forcePathStyle) {
      this.forcePathStyle = forcePathStyle;
      return this;
    }

    @java.lang.Override
    @JsonSetter("fileType")
    public ExportModeStage fileType(@NotNull BlobStorageIntegrationFileType fileType) {
      this.fileType = Objects.requireNonNull(fileType, "fileType must not be null");
      return this;
    }

    @java.lang.Override
    @JsonSetter("exportMode")
    public _FinalStage exportMode(@NotNull BlobStorageExportMode exportMode) {
      this.exportMode = Objects.requireNonNull(exportMode, "exportMode must not be null");
      return this;
    }

    /**
     * <p>Custom start date for exports (required when exportMode is FROM_CUSTOM_DATE)</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage exportStartDate(OffsetDateTime exportStartDate) {
      this.exportStartDate = Optional.ofNullable(exportStartDate);
      return this;
    }

    @java.lang.Override
    @JsonSetter(
        value = "exportStartDate",
        nulls = Nulls.SKIP
    )
    public _FinalStage exportStartDate(Optional<OffsetDateTime> exportStartDate) {
      this.exportStartDate = exportStartDate;
      return this;
    }

    /**
     * <p>Path prefix for exported files (must end with forward slash if provided)</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage prefix(String prefix) {
      this.prefix = Optional.ofNullable(prefix);
      return this;
    }

    @java.lang.Override
    @JsonSetter(
        value = "prefix",
        nulls = Nulls.SKIP
    )
    public _FinalStage prefix(Optional<String> prefix) {
      this.prefix = prefix;
      return this;
    }

    /**
     * <p>Secret access key for authentication (will be encrypted when stored)</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage secretAccessKey(String secretAccessKey) {
      this.secretAccessKey = Optional.ofNullable(secretAccessKey);
      return this;
    }

    @java.lang.Override
    @JsonSetter(
        value = "secretAccessKey",
        nulls = Nulls.SKIP
    )
    public _FinalStage secretAccessKey(Optional<String> secretAccessKey) {
      this.secretAccessKey = secretAccessKey;
      return this;
    }

    /**
     * <p>Access key ID for authentication</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage accessKeyId(String accessKeyId) {
      this.accessKeyId = Optional.ofNullable(accessKeyId);
      return this;
    }

    @java.lang.Override
    @JsonSetter(
        value = "accessKeyId",
        nulls = Nulls.SKIP
    )
    public _FinalStage accessKeyId(Optional<String> accessKeyId) {
      this.accessKeyId = accessKeyId;
      return this;
    }

    /**
     * <p>Custom endpoint URL (required for S3_COMPATIBLE type)</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage endpoint(String endpoint) {
      this.endpoint = Optional.ofNullable(endpoint);
      return this;
    }

    @java.lang.Override
    @JsonSetter(
        value = "endpoint",
        nulls = Nulls.SKIP
    )
    public _FinalStage endpoint(Optional<String> endpoint) {
      this.endpoint = endpoint;
      return this;
    }

    @java.lang.Override
    public CreateBlobStorageIntegrationRequest build() {
      return new CreateBlobStorageIntegrationRequest(projectId, type, bucketName, endpoint, region, accessKeyId, secretAccessKey, prefix, exportFrequency, enabled, forcePathStyle, fileType, exportMode, exportStartDate, additionalProperties);
    }
  }
}
